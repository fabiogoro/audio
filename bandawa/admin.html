<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Web Audio">
    <meta name="author" content="Banda Aberta">

    <title>Banda Aberta</title>
    <link type="text/css" href="assets/style.css" rel="stylesheet">
    <link type="text/css" href="assets/lib/css/font-awesome.min.css" rel="stylesheet">

    <link type="text/css" href="assets/lib/js/jquery-ui-1.12.1.custom/jquery-ui.css" rel="stylesheet">
    <script src="assets/lib/js/jquery-3.0.0.min.js"></script>
    <script src="assets/lib/js/jquery-ui-1.12.1.custom/jquery-ui.js"></script>

  </head>
  <body>
    <div id="main">
      <div class="btn-group">
        
<!--
        <div id="display">
          <div id="duration" class="ui-widget-content">
            <div id="limitador">
              <div id="thick"></div>
            </div>
          
          
          <div id="end"></div>
          </div>



        </div>
-->

        <!-- How to change values:
                floor, down,  middle and up can be changed by sending messages
                /f(x), /d(x), /m(x)  and /u(x).
                where x is the new value to set. In examples below the range input value is being sent.
        -->
        <label>floor</label><input  type="range" step="50" min="100" max="200" onchange=send("/f("+this.value+")");><br>
        <label>baseline</label><input  type="range" step="50" min="300" max="500" onchange=send("/d("+this.value+")");><br>
        <label>baseline</label><input  type="range" step="50" min="500" max="1000" onchange=send("/m("+this.value+")");><br>
        <label>uppercase</label><input  type="range" step="100" min="1000" max="6000" onchange=send("/u("+this.value+")");><br>
        <!-- For other values:
                interval,   thick    and eye,   the message to be sent is
                /interval=x /thick=x and /eye=x
        -->
        <input type="range" step="0.2" min="0.1" max="1" onchange=send("/interval="+this.value);><br>
        <input type="range" step="0.2" min="0.1" max="1" onchange=send("/thick="+this.value);><br>
      
  <button onclick=
    send("/interval=1.2");
    send("/thick=0.15");
    send("/eye=0.45");>parte1
  </button>
    <button onclick=
    send("/interval=1.6");
    send("/thick=0.2");
    send("/eye=0.6");>parte2
  </button>

      <button onclick=
    send("/interval=1.8");
    send("/thick=0.1");
    send("/eye=0.5");>parte3
  </button>
        <button onclick=
    send("/interval=2");
    send("/thick=0.4");
    send("/eye=0.6");>parte4
  </button> 

    <button onclick=
    send("/f(261.63);/d(392);/m(659.25);/u(1046.5)");>C
  </button>
      <button onclick=
    send("/f(220)");
    send("/d(440)");
    send("/m(350)");
    send("/u(500)");>c2
  </button>
      <button onclick=
    send("/f(330)");
    send("/d(660)");
    send("/m(990)");
    send("/u(6000)");>c3
  </button>

<br/>
    <canvas class="visualizer"></canvas> 
      <input type=text id=chat placeholder='envie sua mensagem' onkeypress='chat(event)'>
      <div id="messages" ></div>
    </div>
    


    <script type="text/javascript">
      var SERVER = "wss://aberta.herokuapp.com/";
    </script>
    <script type="text/javascript">
    $(document).ready(function(){



  $('#thick').resizable({
      containment: "#limitador",
      //grid: 5,
      axis:"x",
      maxHeight: 100,
      minHeight: 100,
      minWidth: 10,
      autoHide: true,
      resize: function(event,ui) {
        var larg = $(this).outerWidth();
        console.log([$(this).outerWidth(),$(this).outerHeight()]);
        $('#end').width(larg);
        $( "#duration" ).resizable( "option", "minWidth", larg*2 );
         
      },
      stop: function( event, ui ) {
        var larg = $(this).outerWidth();
        var espess = larg / 100;
        //send("/thick="espess);
      }
    });



  $('#duration').resizable({
      containment: "#display",
      //grid: 10,
      axis:"x",
      maxHeight: 100,
      maxWidth: 300,
      minHeight: 100,
      minWidth: 50,
        resize: function(event,ui) {
        //var inter = $(this).outerWidth();
      }

    });

    


});

    

    </script>

    <!--<script type="text/javascript" src="assets/config.js"></script>-->

    <script type="text/javascript" src="assets/fft.js"></script>
    <script type="text/javascript" src="assets/chat.js"></script>
    <script type="text/javascript" src="assets/ios_hack.js"></script>
    <script type="text/javascript" src="assets/wave.js"></script>
  </body>
</html>
